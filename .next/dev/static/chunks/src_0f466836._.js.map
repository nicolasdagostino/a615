{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nicolasdagostino/Desktop/Proyecto/A615/src/lib/wodStore.ts"],"sourcesContent":["import type { Wod } from \"./mockWod\";\n\nconst STORAGE_KEY = \"a615.wods\";\n\nexport function loadWods(): Wod[] {\n  if (typeof window === \"undefined\") return [];\n  const raw = localStorage.getItem(STORAGE_KEY);\n  return raw ? JSON.parse(raw) : [];\n}\n\nexport function saveWods(wods: Wod[]) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(wods));\n}\n\nexport function getWodByDate(date: string): Wod | undefined {\n  return loadWods().find((w) => w.date === date);\n}\n\nexport function upsertWod(wod: Wod) {\n  const wods = loadWods();\n  const idx = wods.findIndex((w) => w.date === wod.date);\n\n  if (idx >= 0) wods[idx] = wod;\n  else wods.unshift(wod);\n\n  saveWods(wods);\n}\n\nexport function deleteWod(date: string) {\n  const wods = loadWods().filter((w) => w.date !== date);\n  saveWods(wods);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAEA,MAAM,cAAc;AAEb,SAAS;IACd;;IACA,MAAM,MAAM,aAAa,OAAO,CAAC;IACjC,OAAO,MAAM,KAAK,KAAK,CAAC,OAAO,EAAE;AACnC;AAEO,SAAS,SAAS,IAAW;IAClC,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;AACnD;AAEO,SAAS,aAAa,IAAY;IACvC,OAAO,WAAW,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;AAC3C;AAEO,SAAS,UAAU,GAAQ;IAChC,MAAM,OAAO;IACb,MAAM,MAAM,KAAK,SAAS,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,IAAI,IAAI;IAErD,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG;SACrB,KAAK,OAAO,CAAC;IAElB,SAAS;AACX;AAEO,SAAS,UAAU,IAAY;IACpC,MAAM,OAAO,WAAW,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;IACjD,SAAS;AACX"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/nicolasdagostino/Desktop/Proyecto/A615/src/app/%28admin%29/admin/wod/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport type { Wod } from \"@/lib/mockWod\";\nimport { deleteWod, loadWods, upsertWod } from \"@/lib/wodStore\";\n\nconst today = new Date().toISOString().slice(0, 10);\n\nfunction toLines(items?: string[]) {\n  return (items ?? []).join(\"\\n\");\n}\nfunction fromLines(value: string) {\n  return value\n    .split(\"\\n\")\n    .map((s) => s.trim())\n    .filter(Boolean);\n}\n\nconst emptyWod = (date: string): Wod => ({\n  date,\n  title: \"\",\n  intent: \"\",\n  warmup: [],\n  strength: [],\n  metcon: [],\n  rx: [],\n  scaled: [],\n});\n\nexport default function AdminWodPage() {\n  const [list, setList] = useState<Wod[]>([]);\n  const [draft, setDraft] = useState<Wod>(() => emptyWod(today));\n\n  const refresh = () => setList(loadWods());\n\n  useEffect(() => {\n    refresh();\n  }, []);\n\n  const selectedDate = draft.date;\n\n  const onSave = () => {\n    upsertWod({\n      ...draft,\n      warmup: draft.warmup ?? [],\n      strength: (draft.strength ?? []).filter(Boolean),\n      metcon: draft.metcon ?? [],\n      rx: draft.rx ?? [],\n      scaled: draft.scaled ?? [],\n    });\n    refresh();\n    alert(\"WOD guardado\");\n  };\n\n  const onDelete = () => {\n    if (!confirm(`¿Borrar WOD ${selectedDate}?`)) return;\n    deleteWod(selectedDate);\n    refresh();\n    setDraft(emptyWod(today));\n  };\n\n  const hasExisting = useMemo(\n    () => list.some((w) => w.date === selectedDate),\n    [list, selectedDate]\n  );\n\n  return (\n    <div className=\"max-w-5xl\">\n      <div className=\"flex items-start justify-between gap-4\">\n        <div>\n          <h1 className=\"text-xl font-semibold\">WOD</h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Crear, editar y borrar entrenamientos.\n          </p>\n        </div>\n\n        <button\n          onClick={() => setDraft(emptyWod(today))}\n          className=\"rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm\"\n        >\n          Nuevo\n        </button>\n      </div>\n\n      <div className=\"mt-4 grid gap-4 lg:grid-cols-3\">\n        {/* LISTA */}\n        <div className=\"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm\">\n          <div className=\"text-sm font-semibold\">Publicados</div>\n\n          <div className=\"mt-3 space-y-2\">\n            {list.length === 0 && (\n              <div className=\"text-sm text-gray-500\">Todavía no hay WODs.</div>\n            )}\n\n            {list.map((w) => (\n              <button\n                key={w.date}\n                onClick={() => setDraft(w)}\n                className=\"w-full rounded-xl border border-gray-200 p-3 text-left hover:bg-gray-50\"\n              >\n                <div className=\"text-xs text-gray-500\">{w.date}</div>\n                <div className=\"mt-1 text-sm font-medium\">{w.title || \"Sin título\"}</div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* FORM */}\n        <div className=\"lg:col-span-2 rounded-2xl border border-gray-200 bg-white p-4 shadow-sm\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <div className=\"text-sm font-semibold\">\n              {hasExisting ? \"Editar WOD\" : \"Nuevo WOD\"}\n            </div>\n\n            <div className=\"flex gap-2\">\n              {hasExisting && (\n                <button\n                  onClick={onDelete}\n                  className=\"rounded-xl border border-red-300 bg-white px-4 py-2 text-sm text-red-700\"\n                >\n                  Borrar\n                </button>\n              )}\n              <button\n                onClick={onSave}\n                className=\"rounded-xl bg-gray-900 px-4 py-2 text-sm text-white\"\n              >\n                Guardar\n              </button>\n            </div>\n          </div>\n\n          <div className=\"mt-4 grid gap-3\">\n            <label className=\"text-sm\">\n              <div className=\"mb-1 text-gray-500\">Fecha</div>\n              <input\n                type=\"date\"\n                value={draft.date}\n                onChange={(e) => setDraft({ ...draft, date: e.target.value })}\n                className=\"w-full rounded-lg border px-3 py-2\"\n              />\n            </label>\n\n            <label className=\"text-sm\">\n              <div className=\"mb-1 text-gray-500\">Título</div>\n              <input\n                value={draft.title}\n                onChange={(e) => setDraft({ ...draft, title: e.target.value })}\n                className=\"w-full rounded-lg border px-3 py-2\"\n              />\n            </label>\n\n            <label className=\"text-sm\">\n              <div className=\"mb-1 text-gray-500\">Intención</div>\n              <textarea\n                value={draft.intent}\n                onChange={(e) => setDraft({ ...draft, intent: e.target.value })}\n                className=\"w-full rounded-lg border px-3 py-2\"\n              />\n            </label>\n\n            <label className=\"text-sm\">\n              <div className=\"mb-1 text-gray-500\">Warm-up (1 línea por item)</div>\n              <textarea\n                value={toLines(draft.warmup)}\n                onChange={(e) => setDraft({ ...draft, warmup: fromLines(e.target.value) })}\n                className=\"w-full rounded-lg border px-3 py-2\"\n              />\n            </label>\n\n            <label className=\"text-sm\">\n              <div className=\"mb-1 text-gray-500\">Strength (1 línea por item)</div>\n              <textarea\n                value={toLines(draft.strength)}\n                onChange={(e) =>\n                  setDraft({ ...draft, strength: fromLines(e.target.value) })\n                }\n                className=\"w-full rounded-lg border px-3 py-2\"\n              />\n            </label>\n\n            <label className=\"text-sm\">\n              <div className=\"mb-1 text-gray-500\">Metcon (1 línea por item)</div>\n              <textarea\n                value={toLines(draft.metcon)}\n                onChange={(e) => setDraft({ ...draft, metcon: fromLines(e.target.value) })}\n                className=\"w-full rounded-lg border px-3 py-2\"\n              />\n            </label>\n\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              <label className=\"text-sm\">\n                <div className=\"mb-1 text-gray-500\">RX (1 línea por item)</div>\n                <textarea\n                  value={toLines(draft.rx)}\n                  onChange={(e) => setDraft({ ...draft, rx: fromLines(e.target.value) })}\n                  className=\"w-full rounded-lg border px-3 py-2\"\n                />\n              </label>\n\n              <label className=\"text-sm\">\n                <div className=\"mb-1 text-gray-500\">Scaled (1 línea por item)</div>\n                <textarea\n                  value={toLines(draft.scaled)}\n                  onChange={(e) =>\n                    setDraft({ ...draft, scaled: fromLines(e.target.value) })\n                  }\n                  className=\"w-full rounded-lg border px-3 py-2\"\n                />\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}